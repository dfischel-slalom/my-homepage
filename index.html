<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>My Homepage</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <main class="page">
      <section class="card">
        <div class="avatar-wrap">
          <!-- Use a single background-image element for more reliable hover swapping -->
          <div class="avatar-bg" role="img" aria-label="Your photo" tabindex="0"></div>
        </div>

        <h1 class="title">Hello, world!</h1>
        <p class="subtitle">Welcome to my homepage.</p>

        <button id="contactBtn" class="contact">Contact me</button>
      </section>
    </main>
    <script>
      // Fallback: ensure avatar swaps even if CSS hover is overridden
      (function(){
        const avatar = document.querySelector('.avatar-bg');
        if (!avatar) return;
        const imgA = 'assets/me.jpeg';
        const imgB = 'assets/me2.jpg';
        function setHover(){ avatar.style.backgroundImage = `url('${imgB}')`; avatar.style.transform = 'scale(1.02)'; }
        function setNormal(){ avatar.style.backgroundImage = `url('${imgA}')`; avatar.style.transform = 'none'; }
        avatar.addEventListener('mouseenter', setHover);
        avatar.addEventListener('mouseleave', setNormal);
        avatar.addEventListener('focus', setHover);
        avatar.addEventListener('blur', setNormal);
        // on touch/click toggle so mobile users can see the alternate photo
        avatar.addEventListener('click', function(){
          const cur = getComputedStyle(avatar).backgroundImage || '';
          if (cur.indexOf('me2.jpg') !== -1) setNormal(); else setHover();
        });
      })();

      (function(){
        const btn = document.getElementById('contactBtn');
        if (!btn) return;
        btn.addEventListener('click', function(){
          window.location.href = 'mailto:doug.fischels@slalom.com';
        });
      })();
    </script>
  </body>
</html>
